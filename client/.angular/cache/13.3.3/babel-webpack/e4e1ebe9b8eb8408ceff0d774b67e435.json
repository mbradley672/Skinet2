{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Directive, Injectable, TemplateRef, Component, ViewEncapsulation, ContentChild, Input, NgModule } from '@angular/core';\nimport { filter, map } from 'rxjs/operators';\nimport * as i1 from '@angular/router';\nimport { GuardsCheckEnd, RouterModule } from '@angular/router';\nimport { BehaviorSubject } from 'rxjs';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n/**\n * This directive is used to customize the breadcrumb label behavior\n * *xngBreadcrumbItem directive can be used in the child element of xng-breadcrumb\n * Usage: refer to the demo - app.component.html\n */\n\nfunction BreadcrumbComponent_ng_container_2_a_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\n\nfunction BreadcrumbComponent_ng_container_2_a_2_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const breadcrumb_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(breadcrumb_r1.label);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"xng-breadcrumb-link-disabled\": a0\n  };\n};\n\nconst _c1 = function (a0, a1, a2, a3, a4, a5) {\n  return {\n    $implicit: a0,\n    info: a1,\n    last: a2,\n    first: a3,\n    index: a4,\n    count: a5\n  };\n};\n\nfunction BreadcrumbComponent_ng_container_2_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 7);\n    i0.ɵɵtemplate(1, BreadcrumbComponent_ng_container_2_a_2_ng_container_1_Template, 1, 0, \"ng-container\", 8);\n    i0.ɵɵtemplate(2, BreadcrumbComponent_ng_container_2_a_2_ng_container_2_Template, 2, 1, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    const breadcrumb_r1 = ctx_r12.$implicit;\n    const isLast_r2 = ctx_r12.last;\n    const isFirst_r3 = ctx_r12.first;\n    const index_r4 = ctx_r12.index;\n    const count_r5 = ctx_r12.count;\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(10, _c0, breadcrumb_r1.disable))(\"routerLink\", breadcrumb_r1.routeInterceptor ? breadcrumb_r1.routeInterceptor(breadcrumb_r1.routeLink, breadcrumb_r1) : breadcrumb_r1.routeLink)(\"queryParams\", ctx_r6.preserveQueryParams ? breadcrumb_r1.queryParams : undefined)(\"fragment\", ctx_r6.preserveFragment ? breadcrumb_r1.fragment : undefined)(\"target\", ctx_r6.anchorTarget ? ctx_r6.anchorTarget : \"_self\");\n    i0.ɵɵattribute(\"aria-disabled\", breadcrumb_r1.disable)(\"tabIndex\", breadcrumb_r1.disable ? -1 : 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r6.itemTemplate)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction6(12, _c1, breadcrumb_r1.label, breadcrumb_r1.info, isLast_r2, isFirst_r3, index_r4, count_r5));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r6.itemTemplate);\n  }\n}\n\nfunction BreadcrumbComponent_ng_container_2_label_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\n\nfunction BreadcrumbComponent_ng_container_2_label_3_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const breadcrumb_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(breadcrumb_r1.label);\n  }\n}\n\nfunction BreadcrumbComponent_ng_container_2_label_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 10);\n    i0.ɵɵtemplate(1, BreadcrumbComponent_ng_container_2_label_3_ng_container_1_Template, 1, 0, \"ng-container\", 8);\n    i0.ɵɵtemplate(2, BreadcrumbComponent_ng_container_2_label_3_ng_container_2_Template, 2, 1, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext();\n    const breadcrumb_r1 = ctx_r16.$implicit;\n    const isLast_r2 = ctx_r16.last;\n    const isFirst_r3 = ctx_r16.first;\n    const index_r4 = ctx_r16.index;\n    const count_r5 = ctx_r16.count;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r7.itemTemplate)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction6(3, _c1, breadcrumb_r1.label, breadcrumb_r1.info, isLast_r2, isFirst_r3, index_r4, count_r5));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r7.itemTemplate);\n  }\n}\n\nfunction BreadcrumbComponent_ng_container_2_li_4_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\n\nfunction BreadcrumbComponent_ng_container_2_li_4_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r18.separator);\n  }\n}\n\nfunction BreadcrumbComponent_ng_container_2_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 11);\n    i0.ɵɵtemplate(1, BreadcrumbComponent_ng_container_2_li_4_ng_container_1_Template, 1, 0, \"ng-container\", 12);\n    i0.ɵɵtemplate(2, BreadcrumbComponent_ng_container_2_li_4_ng_container_2_Template, 2, 1, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r8.separatorTemplate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r8.separatorTemplate);\n  }\n}\n\nfunction BreadcrumbComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"li\", 3);\n    i0.ɵɵtemplate(2, BreadcrumbComponent_ng_container_2_a_2_Template, 3, 19, \"a\", 4);\n    i0.ɵɵtemplate(3, BreadcrumbComponent_ng_container_2_label_3_Template, 3, 10, \"label\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, BreadcrumbComponent_ng_container_2_li_4_Template, 3, 2, \"li\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const isLast_r2 = ctx.last;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !isLast_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", isLast_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !isLast_r2);\n  }\n}\n\nclass BreadcrumbItemDirective {}\n\nBreadcrumbItemDirective.ɵfac = function BreadcrumbItemDirective_Factory(t) {\n  return new (t || BreadcrumbItemDirective)();\n};\n\nBreadcrumbItemDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: BreadcrumbItemDirective,\n  selectors: [[\"\", \"xngBreadcrumbItem\", \"\"]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BreadcrumbItemDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[xngBreadcrumbItem]'\n    }]\n  }], null, null);\n})();\n\nconst PATH_PARAM = {\n  PREFIX: ':',\n  REGEX_IDENTIFIER: '/:[^/]+',\n  REGEX_REPLACER: '/[^/]+'\n};\nconst ALIAS_PREFIX = '@';\n\nconst isNonEmpty = obj => {\n  return obj && Object.keys(obj).length > 0;\n};\n\nclass BreadcrumbService {\n  constructor(activatedRoute, router) {\n    this.activatedRoute = activatedRoute;\n    this.router = router;\n    this.baseHref = '/';\n    /**\n     * dynamicBreadcrumbStore holds information about dynamically updated breadcrumbs.\n     * Breadcrumbs can be set from anywhere (component, service) in the app.\n     * On every breadcrumb update check this store and use the info if available.\n     */\n\n    this.dynamicBreadcrumbStore = [];\n    /**\n     * breadcrumbList for the current route\n     * When breadcrumb info is changed dynamically, check if the currentBreadcrumbs is effected\n     * If effected, update the change and emit a new stream\n     */\n\n    this.currentBreadcrumbs = [];\n    this.previousBreadcrumbs = [];\n    /**\n     * Breadcrumbs observable to be subscribed by BreadcrumbComponent\n     * Emits on every route change OR dynamic update of breadcrumb\n     */\n\n    this.breadcrumbs = new BehaviorSubject([]);\n    this.breadcrumbs$ = this.breadcrumbs.asObservable();\n    this.detectRouteChanges();\n  }\n  /**\n   * Whenever route changes build breadcrumb list again\n   */\n\n\n  detectRouteChanges() {\n    // Special case where breadcrumb service & component instantiates after a route is navigated.\n    // Ex: put breadcrumbs within *ngIf and this.router.events would be empty\n    // This check is also required where  { initialNavigation: 'enabledBlocking' } is applied to routes\n    this.setupBreadcrumbs(this.activatedRoute.snapshot);\n    this.router.events.pipe(filter(event => event instanceof GuardsCheckEnd)).subscribe(event => {\n      // activatedRoute doesn't carry data when shouldReuseRoute returns false\n      // use the event data with GuardsCheckEnd as workaround\n      // Check for shouldActivate in case where the authGuard returns false the breadcrumbs shouldn't be changed\n      if (event instanceof GuardsCheckEnd && event.shouldActivate) {\n        this.setupBreadcrumbs(event.state.root);\n      }\n    });\n  }\n\n  setupBreadcrumbs(activatedRouteSnapshot) {\n    this.previousBreadcrumbs = this.currentBreadcrumbs; // breadcrumb label for base OR root path. Usually, this can be set as 'Home'\n\n    const rootBreadcrumb = this.getRootBreadcrumb();\n    this.currentBreadcrumbs = rootBreadcrumb ? [rootBreadcrumb] : [];\n    this.prepareBreadcrumbList(activatedRouteSnapshot, this.baseHref);\n  }\n\n  getRootBreadcrumb() {\n    var _a;\n\n    const rootConfig = this.router.config.find(config => config.path === '');\n    const rootBreadcrumb = this.extractObject((_a = rootConfig === null || rootConfig === void 0 ? void 0 : rootConfig.data) === null || _a === void 0 ? void 0 : _a.breadcrumb);\n    const storeItem = this.getFromStore(rootBreadcrumb.alias, '/');\n\n    if (isNonEmpty(rootBreadcrumb) || isNonEmpty(storeItem)) {\n      return Object.assign(Object.assign(Object.assign(Object.assign({}, storeItem), rootBreadcrumb), {\n        routeLink: this.baseHref\n      }), this.getQueryParamsFromPreviousList('/'));\n    }\n  }\n\n  prepareBreadcrumbItem(activatedRouteSnapshot, routeLinkPrefix) {\n    const {\n      path,\n      breadcrumb\n    } = this.parseRouteData(activatedRouteSnapshot.routeConfig);\n    const resolvedSegment = this.resolvePathSegment(path, activatedRouteSnapshot);\n    const routeLink = `${routeLinkPrefix}${resolvedSegment}`;\n    const storeItem = this.getFromStore(breadcrumb.alias, routeLink);\n    const label = this.extractLabel((storeItem === null || storeItem === void 0 ? void 0 : storeItem.label) || (breadcrumb === null || breadcrumb === void 0 ? void 0 : breadcrumb.label), resolvedSegment);\n    let isAutoGeneratedLabel = false;\n    let autoGeneratedLabel = '';\n\n    if (!label) {\n      isAutoGeneratedLabel = true;\n      autoGeneratedLabel = resolvedSegment;\n    }\n\n    return Object.assign(Object.assign(Object.assign(Object.assign({}, storeItem), breadcrumb), {\n      label: isAutoGeneratedLabel ? autoGeneratedLabel : label,\n      routeLink,\n      isAutoGeneratedLabel\n    }), this.getQueryParamsFromPreviousList(routeLink));\n  }\n\n  prepareBreadcrumbList(activatedRouteSnapshot, routeLinkPrefix) {\n    var _a;\n\n    if ((_a = activatedRouteSnapshot.routeConfig) === null || _a === void 0 ? void 0 : _a.path) {\n      const breadcrumbItem = this.prepareBreadcrumbItem(activatedRouteSnapshot, routeLinkPrefix);\n      this.currentBreadcrumbs.push(breadcrumbItem);\n\n      if (activatedRouteSnapshot.firstChild) {\n        return this.prepareBreadcrumbList(activatedRouteSnapshot.firstChild, breadcrumbItem.routeLink + '/');\n      }\n    } else if (activatedRouteSnapshot.firstChild) {\n      return this.prepareBreadcrumbList(activatedRouteSnapshot.firstChild, routeLinkPrefix);\n    }\n\n    const lastCrumb = this.currentBreadcrumbs[this.currentBreadcrumbs.length - 1];\n    this.setQueryParamsForActiveBreadcrumb(lastCrumb, activatedRouteSnapshot); // remove breadcrumb items that needs to be hidden\n\n    const breadcrumbsToShow = this.currentBreadcrumbs.filter(item => !item.skip);\n    this.breadcrumbs.next(breadcrumbsToShow);\n  }\n\n  getFromStore(alias, routeLink) {\n    return this.dynamicBreadcrumbStore.find(item => {\n      return alias && alias === item.alias || routeLink && routeLink === item.routeLink || this.matchRegex(routeLink, item.routeRegex);\n    });\n  }\n  /**\n   * use exact match instead of regexp.test\n   * for /mentor/[^/]+ we should match '/mentor/12' but not '/mentor/12/abc'\n   */\n\n\n  matchRegex(routeLink, routeRegex) {\n    const match = routeLink.match(new RegExp(routeRegex));\n    return (match === null || match === void 0 ? void 0 : match[0]) === routeLink;\n  }\n  /**\n   * if the path segment has route params, read the param value from url\n   * for each segment of route this gets called\n   *\n   * for mentor/:id/view - it gets called with mentor, :id, view 3 times\n   */\n\n\n  resolvePathSegment(segment, activatedRouteSnapshot) {\n    //quirk -segment can be defined as view/:id in route config in which case you need to make it view/<resolved-param>\n    if (segment.includes(PATH_PARAM.PREFIX)) {\n      Object.entries(activatedRouteSnapshot.params).forEach(([key, value]) => {\n        segment = segment.replace(`:${key}`, `${value}`);\n      });\n    }\n\n    return segment;\n  }\n  /**\n   * queryParams & fragments for previous breadcrumb path are copied over to new list\n   */\n\n\n  getQueryParamsFromPreviousList(routeLink) {\n    const {\n      queryParams,\n      fragment\n    } = this.previousBreadcrumbs.find(item => item.routeLink === routeLink) || {};\n    return {\n      queryParams,\n      fragment\n    };\n  }\n  /**\n   * set current activated route query params to the last breadcrumb item\n   */\n\n\n  setQueryParamsForActiveBreadcrumb(lastItem, activatedRouteSnapshot) {\n    if (lastItem) {\n      const {\n        queryParams,\n        fragment\n      } = activatedRouteSnapshot;\n      lastItem.queryParams = queryParams ? Object.assign({}, queryParams) : undefined;\n      lastItem.fragment = fragment;\n    }\n  }\n  /**\n   * For a specific route, breadcrumb can be defined either on parent OR it's child(which has empty path)\n   * When both are defined, child takes precedence\n   *\n   * Ex: Below we are setting breadcrumb on both parent and child.\n   * So, child takes precedence and \"Defined On Child\" is displayed for the route 'home'\n   * { path: 'home', loadChildren: () => import('./home/home.module').then((m) => m.HomeModule) , data: {breadcrumb: \"Defined On Module\"}}\n   *                                                AND\n   * children: [\n   *   { path: '', component: ShowUserComponent, data: {breadcrumb: \"Defined On Child\" }\n   * ]\n   */\n\n\n  parseRouteData(routeConfig) {\n    const {\n      path,\n      data\n    } = routeConfig;\n    const breadcrumb = this.mergeWithBaseChildData(routeConfig, data === null || data === void 0 ? void 0 : data.breadcrumb);\n    return {\n      path,\n      breadcrumb\n    };\n  }\n  /**\n   * get empty children of a module or Component. Empty child is the one with path: ''\n   * When parent and it's children (that has empty route path) define data merge them both with child taking precedence\n   */\n\n\n  mergeWithBaseChildData(routeConfig, config) {\n    var _a;\n\n    if (!routeConfig) {\n      return this.extractObject(config);\n    }\n\n    let baseChild;\n\n    if (routeConfig.loadChildren) {\n      // To handle a module with empty child route\n      baseChild = routeConfig._loadedConfig.routes.find(route => route.path === '');\n    } else if (routeConfig.children) {\n      // To handle a component with empty child route\n      baseChild = routeConfig.children.find(route => route.path === '');\n    }\n\n    const childConfig = (_a = baseChild === null || baseChild === void 0 ? void 0 : baseChild.data) === null || _a === void 0 ? void 0 : _a.breadcrumb;\n    return childConfig ? this.mergeWithBaseChildData(baseChild, Object.assign(Object.assign({}, this.extractObject(config)), this.extractObject(childConfig))) : this.extractObject(config);\n  }\n  /**\n   * Update breadcrumb dynamically\n   *\n   * key can be a path | alias\n   *\n   * 1) Using complete route path. route can be passed the same way you define angular routes\n   * - path can be passed as 'exact path(routeLink)' or 'path with params(routeRegex)'\n   * - update label Ex: set('/mentor', 'Mentor'), set('/mentor/:id', 'Mentor Details')\n   * - change visibility Ex: set('/mentor/:id/edit', { skip: true })\n   * ------------------------------------------ OR ------------------------------------------\n   * 2) Using route alias (prefixed with '@'). alias should be unique for a route\n   * - update label Ex: set('@mentor', 'Enabler')\n   * - change visibility Ex: set('@mentorEdit', { skip: true })\n   *\n   *\n   * value can be string | BreadcrumbObject | BreadcrumbFunction\n   */\n\n\n  set(key, breadcrumb) {\n    const breadcrumbObject = this.extractObject(breadcrumb);\n    let updateArgs;\n\n    if (key.startsWith(ALIAS_PREFIX)) {\n      updateArgs = ['alias', Object.assign(Object.assign({}, breadcrumbObject), {\n        alias: key.slice(1)\n      })];\n    } else if (key.includes(PATH_PARAM.PREFIX)) {\n      updateArgs = ['routeRegex', Object.assign(Object.assign({}, breadcrumbObject), {\n        routeRegex: this.buildRegex(key)\n      })];\n    } else {\n      updateArgs = ['routeLink', Object.assign(Object.assign({}, breadcrumbObject), {\n        routeLink: this.ensureLeadingSlash(key)\n      })];\n    } // For this route if previously a breadcrumb is not defined that sets isAutoGeneratedLabel: true\n    // change it to false since this is user supplied value\n\n\n    updateArgs[1].isAutoGeneratedLabel = false;\n    this.updateStore(...updateArgs);\n    this.updateCurrentBreadcrumbs(...updateArgs);\n  }\n  /**\n   * Update the store to reuse for dynamic declarations\n   * If the store already has this route definition update it, else add\n   */\n\n\n  updateStore(key, breadcrumb) {\n    const storeItemIndex = this.dynamicBreadcrumbStore.findIndex(item => {\n      return breadcrumb[key] === item[key];\n    });\n\n    if (storeItemIndex > -1) {\n      this.dynamicBreadcrumbStore[storeItemIndex] = Object.assign(Object.assign({}, this.dynamicBreadcrumbStore[storeItemIndex]), breadcrumb);\n    } else {\n      this.dynamicBreadcrumbStore.push(Object.assign({}, breadcrumb));\n    }\n  }\n  /**\n   * If breadcrumb is present in current breadcrumbs update it and emit new stream\n   */\n\n\n  updateCurrentBreadcrumbs(key, breadcrumb) {\n    const itemIndex = this.currentBreadcrumbs.findIndex(item => {\n      return key === 'routeRegex' ? this.matchRegex(item.routeLink, breadcrumb[key]) : breadcrumb[key] === item[key];\n    });\n\n    if (itemIndex > -1) {\n      this.currentBreadcrumbs[itemIndex] = Object.assign(Object.assign({}, this.currentBreadcrumbs[itemIndex]), breadcrumb);\n      const breadcrumbsToShow = this.currentBreadcrumbs.filter(item => !item.skip);\n      this.breadcrumbs.next([...breadcrumbsToShow]);\n    }\n  }\n  /**\n   * For a route with path param, we create regex dynamically from angular route syntax\n   * '/mentor/:id' becomes '/mentor/[^/]',\n   * breadcrumbService.set('/mentor/:id', 'Uday') should update 'Uday' as label for '/mentor/2' OR 'mentor/ada'\n   */\n\n\n  buildRegex(path) {\n    return this.ensureLeadingSlash(path).replace(new RegExp(PATH_PARAM.REGEX_IDENTIFIER, 'g'), PATH_PARAM.REGEX_REPLACER);\n  }\n\n  ensureLeadingSlash(path) {\n    return path.startsWith('/') ? path : `/${path}`;\n  }\n  /**\n   * In App's RouteConfig, breadcrumb can be defined as a string OR a function OR an object\n   *\n   * string: simple static breadcrumb label for a path\n   * function: callback that gets invoked with resolved path param\n   * object: additional data defined along with breadcrumb label that gets passed to *xngBreadcrumbItem directive\n   */\n\n\n  extractLabel(config, resolvedParam) {\n    const label = typeof config === 'object' ? config.label : config;\n\n    if (typeof label === 'function') {\n      return label(resolvedParam);\n    }\n\n    return label;\n  }\n\n  extractObject(config) {\n    // don't include {label} if config is undefined. This is important since we merge the configs\n    if (config && (typeof config === 'string' || typeof config === 'function')) {\n      return {\n        label: config\n      };\n    }\n\n    return config || {};\n  }\n\n}\n\nBreadcrumbService.ɵfac = function BreadcrumbService_Factory(t) {\n  return new (t || BreadcrumbService)(i0.ɵɵinject(i1.ActivatedRoute), i0.ɵɵinject(i1.Router));\n};\n\nBreadcrumbService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: BreadcrumbService,\n  factory: BreadcrumbService.ɵfac,\n  providedIn: 'root'\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BreadcrumbService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1.ActivatedRoute\n    }, {\n      type: i1.Router\n    }];\n  }, null);\n})();\n\nclass BreadcrumbComponent {\n  constructor(breadcrumbService, activateRoute) {\n    this.breadcrumbService = breadcrumbService;\n    this._separator = '/';\n    /**\n     * If true, breadcrumb is auto generated even without any mapping label\n     * Default label is same as route segment\n     */\n\n    this.autoGenerate = true;\n    /**\n     * By default query params will be preserved with breadcrumbs\n     */\n\n    this.preserveQueryParams = true;\n    /**\n     * By default query fragments will be preserved with breadcrumbs\n     */\n\n    this.preserveFragment = true;\n    /**\n     * custom class provided by consumer to increase specificity\n     * This will benefit to override styles that are conflicting\n     */\n\n    this.class = '';\n    this.setupMessage = 'not set up yet';\n    this.someParameterValue = null; // breadcrumb inside ngIf works only this way\n\n    activateRoute.params.subscribe(params => {\n      this.setupComponent(params['someParam']);\n    });\n  }\n  /**\n   * separator between breadcrumbs, defaults to '/'.\n   * User can customize separator either by passing a String or Template\n   *\n   * String --> Ex: <xng-breadcrumb separator=\"-\"> </xng-breadcrumb>\n   *\n   * Template --> Ex: <xng-breadcrumb [separator]=\"separatorTemplate\"> </xng-breadcrumb>\n   * <ng-template #separatorTemplate><mat-icon>arrow_right</mat-icon></ng-template>\n   */\n\n\n  set separator(value) {\n    if (value instanceof TemplateRef) {\n      this.separatorTemplate = value;\n      this._separator = undefined;\n    } else {\n      this.separatorTemplate = undefined;\n      this._separator = value || '/';\n    }\n  }\n\n  get separator() {\n    return this._separator;\n  }\n\n  setupComponent(someParam) {\n    this.setupMessage = 'set up at ' + new Date();\n    this.someParameterValue = someParam;\n  }\n\n  ngOnInit() {\n    this.breadcrumbs$ = this.breadcrumbService.breadcrumbs$.pipe(map(breadcrumbs => {\n      return breadcrumbs.filter(breadcrumb => {\n        // Usually, breadcrumb list can contain a combination of auto generated and user specified labels\n        // this filters autogenerated labels in case of \"[autoGenerate]: false\"\n        if (this.autoGenerate) {\n          return true;\n        }\n\n        return !breadcrumb.isAutoGeneratedLabel;\n      }).map(breadcrumb => {\n        // Do not mutate breadcrumb as its source of truth.\n        // There can be scenarios where we can have multiple xng-breadcrumb instances in page\n        const {\n          routeInterceptor,\n          routeLink\n        } = breadcrumb;\n        return Object.assign(Object.assign({}, breadcrumb), {\n          routeLink: (routeInterceptor === null || routeInterceptor === void 0 ? void 0 : routeInterceptor(routeLink, breadcrumb)) || routeLink\n        });\n      });\n    }));\n  }\n\n}\n\nBreadcrumbComponent.ɵfac = function BreadcrumbComponent_Factory(t) {\n  return new (t || BreadcrumbComponent)(i0.ɵɵdirectiveInject(BreadcrumbService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\n\nBreadcrumbComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: BreadcrumbComponent,\n  selectors: [[\"xng-breadcrumb\"]],\n  contentQueries: function BreadcrumbComponent_ContentQueries(rf, ctx, dirIndex) {\n    if (rf & 1) {\n      i0.ɵɵcontentQuery(dirIndex, BreadcrumbItemDirective, 5, TemplateRef);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.itemTemplate = _t.first);\n    }\n  },\n  inputs: {\n    autoGenerate: \"autoGenerate\",\n    preserveQueryParams: \"preserveQueryParams\",\n    preserveFragment: \"preserveFragment\",\n    class: \"class\",\n    anchorTarget: \"anchorTarget\",\n    separator: \"separator\"\n  },\n  decls: 4,\n  vars: 4,\n  consts: [[\"aria-label\", \"breadcrumb\", 1, \"xng-breadcrumb-root\", 3, \"ngClass\"], [1, \"xng-breadcrumb-list\"], [4, \"ngFor\", \"ngForOf\"], [1, \"xng-breadcrumb-item\"], [\"class\", \"xng-breadcrumb-link\", \"role\", \"button\", \"rel\", \"noopener noreferrer\", 3, \"ngClass\", \"routerLink\", \"queryParams\", \"fragment\", \"target\", 4, \"ngIf\"], [\"class\", \"xng-breadcrumb-trail\", 4, \"ngIf\"], [\"class\", \"xng-breadcrumb-separator\", \"aria-hidden\", \"true\", \"role\", \"separator\", 4, \"ngIf\"], [\"role\", \"button\", \"rel\", \"noopener noreferrer\", 1, \"xng-breadcrumb-link\", 3, \"ngClass\", \"routerLink\", \"queryParams\", \"fragment\", \"target\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [4, \"ngIf\"], [1, \"xng-breadcrumb-trail\"], [\"aria-hidden\", \"true\", \"role\", \"separator\", 1, \"xng-breadcrumb-separator\"], [4, \"ngTemplateOutlet\"]],\n  template: function BreadcrumbComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0)(1, \"ol\", 1);\n      i0.ɵɵtemplate(2, BreadcrumbComponent_ng_container_2_Template, 5, 3, \"ng-container\", 2);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngClass\", ctx.class);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(3, 2, ctx.breadcrumbs$));\n    }\n  },\n  directives: [i3.NgClass, i3.NgForOf, i3.NgIf, i1.RouterLinkWithHref, i3.NgTemplateOutlet],\n  pipes: [i3.AsyncPipe],\n  styles: [\".xng-breadcrumb-root{margin:0;color:#0009}.xng-breadcrumb-list{display:flex;align-items:center;flex-wrap:wrap;margin:0;padding:0}.xng-breadcrumb-item{list-style:none}.xng-breadcrumb-trail{display:flex;align-items:center;color:#000000e6}.xng-breadcrumb-link{display:flex;align-items:center;white-space:nowrap;color:inherit;text-decoration:none;transition:-webkit-text-decoration .3s;transition:text-decoration .3s;transition:text-decoration .3s,-webkit-text-decoration .3s;cursor:pointer}.xng-breadcrumb-link:hover{text-decoration:underline}.xng-breadcrumb-link-disabled{pointer-events:none;cursor:disabled}.xng-breadcrumb-separator{display:flex;-webkit-user-select:none;user-select:none;margin-left:8px;margin-right:8px}\\n\"],\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BreadcrumbComponent, [{\n    type: Component,\n    args: [{\n      selector: 'xng-breadcrumb',\n      encapsulation: ViewEncapsulation.None,\n      template: \"<nav aria-label=\\\"breadcrumb\\\" class=\\\"xng-breadcrumb-root\\\" [ngClass]=\\\"class\\\">\\n  <ol class=\\\"xng-breadcrumb-list\\\">\\n    <ng-container\\n      *ngFor=\\\"\\n        let breadcrumb of breadcrumbs$ | async;\\n        last as isLast;\\n        first as isFirst;\\n        index as index;\\n        count as count\\n      \\\"\\n    >\\n      <li class=\\\"xng-breadcrumb-item\\\">\\n        <a\\n          *ngIf=\\\"!isLast\\\"\\n          class=\\\"xng-breadcrumb-link\\\"\\n          [ngClass]=\\\"{ 'xng-breadcrumb-link-disabled': breadcrumb.disable }\\\"\\n          [attr.aria-disabled]=\\\"breadcrumb.disable\\\"\\n          [attr.tabIndex]=\\\"breadcrumb.disable ? -1 : 0\\\"\\n          role=\\\"button\\\"\\n          rel=\\\"noopener noreferrer\\\"\\n          [routerLink]=\\\"\\n            breadcrumb.routeInterceptor\\n              ? breadcrumb.routeInterceptor(breadcrumb.routeLink, breadcrumb)\\n              : breadcrumb.routeLink\\n          \\\"\\n          [queryParams]=\\\"\\n            preserveQueryParams ? breadcrumb.queryParams : undefined\\n          \\\"\\n          [fragment]=\\\"preserveFragment ? breadcrumb.fragment : undefined\\\"\\n          [target]=\\\"anchorTarget ? anchorTarget : '_self'\\\"\\n        >\\n          <ng-container\\n            *ngTemplateOutlet=\\\"\\n              itemTemplate;\\n              context: {\\n                $implicit: breadcrumb.label,\\n                info: breadcrumb.info,\\n                last: isLast,\\n                first: isFirst,\\n                index: index,\\n                count: count\\n              }\\n            \\\"\\n          ></ng-container>\\n          <ng-container *ngIf=\\\"!itemTemplate\\\">{{\\n            breadcrumb.label\\n          }}</ng-container>\\n        </a>\\n\\n        <label *ngIf=\\\"isLast\\\" class=\\\"xng-breadcrumb-trail\\\">\\n          <ng-container\\n            *ngTemplateOutlet=\\\"\\n              itemTemplate;\\n              context: {\\n                $implicit: breadcrumb.label,\\n                info: breadcrumb.info,\\n                last: isLast,\\n                first: isFirst,\\n                index: index,\\n                count: count\\n              }\\n            \\\"\\n          ></ng-container>\\n          <ng-container *ngIf=\\\"!itemTemplate\\\">{{\\n            breadcrumb.label\\n          }}</ng-container>\\n        </label>\\n      </li>\\n\\n      <li\\n        *ngIf=\\\"!isLast\\\"\\n        class=\\\"xng-breadcrumb-separator\\\"\\n        aria-hidden=\\\"true\\\"\\n        role=\\\"separator\\\"\\n      >\\n        <ng-container *ngTemplateOutlet=\\\"separatorTemplate\\\"></ng-container>\\n        <ng-container *ngIf=\\\"!separatorTemplate\\\">{{ separator }}</ng-container>\\n      </li>\\n    </ng-container>\\n  </ol>\\n</nav>\\n\",\n      styles: [\".xng-breadcrumb-root{margin:0;color:#0009}.xng-breadcrumb-list{display:flex;align-items:center;flex-wrap:wrap;margin:0;padding:0}.xng-breadcrumb-item{list-style:none}.xng-breadcrumb-trail{display:flex;align-items:center;color:#000000e6}.xng-breadcrumb-link{display:flex;align-items:center;white-space:nowrap;color:inherit;text-decoration:none;transition:-webkit-text-decoration .3s;transition:text-decoration .3s;transition:text-decoration .3s,-webkit-text-decoration .3s;cursor:pointer}.xng-breadcrumb-link:hover{text-decoration:underline}.xng-breadcrumb-link-disabled{pointer-events:none;cursor:disabled}.xng-breadcrumb-separator{display:flex;-webkit-user-select:none;user-select:none;margin-left:8px;margin-right:8px}\\n\"]\n    }]\n  }], function () {\n    return [{\n      type: BreadcrumbService\n    }, {\n      type: i1.ActivatedRoute\n    }];\n  }, {\n    itemTemplate: [{\n      type: ContentChild,\n      args: [BreadcrumbItemDirective, {\n        static: false,\n        read: TemplateRef\n      }]\n    }],\n    autoGenerate: [{\n      type: Input\n    }],\n    preserveQueryParams: [{\n      type: Input\n    }],\n    preserveFragment: [{\n      type: Input\n    }],\n    class: [{\n      type: Input\n    }],\n    anchorTarget: [{\n      type: Input\n    }],\n    separator: [{\n      type: Input,\n      args: ['separator']\n    }]\n  });\n})();\n\nclass BreadcrumbModule {}\n\nBreadcrumbModule.ɵfac = function BreadcrumbModule_Factory(t) {\n  return new (t || BreadcrumbModule)();\n};\n\nBreadcrumbModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: BreadcrumbModule\n});\nBreadcrumbModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, RouterModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BreadcrumbModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [BreadcrumbComponent, BreadcrumbItemDirective],\n      imports: [CommonModule, RouterModule],\n      exports: [BreadcrumbComponent, BreadcrumbItemDirective]\n    }]\n  }], null, null);\n})();\n/*\n * Public API Surface of xng-breadcrumb\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { BreadcrumbComponent, BreadcrumbItemDirective, BreadcrumbModule, BreadcrumbService };","map":{"version":3,"sources":["C:/Users/mbrad/OneDrive/code/Skinet/client/node_modules/xng-breadcrumb/fesm2015/xng-breadcrumb.mjs"],"names":["i0","Directive","Injectable","TemplateRef","Component","ViewEncapsulation","ContentChild","Input","NgModule","filter","map","i1","GuardsCheckEnd","RouterModule","BehaviorSubject","i3","CommonModule","BreadcrumbItemDirective","ɵfac","ɵdir","type","args","selector","PATH_PARAM","PREFIX","REGEX_IDENTIFIER","REGEX_REPLACER","ALIAS_PREFIX","isNonEmpty","obj","Object","keys","length","BreadcrumbService","constructor","activatedRoute","router","baseHref","dynamicBreadcrumbStore","currentBreadcrumbs","previousBreadcrumbs","breadcrumbs","breadcrumbs$","asObservable","detectRouteChanges","setupBreadcrumbs","snapshot","events","pipe","event","subscribe","shouldActivate","state","root","activatedRouteSnapshot","rootBreadcrumb","getRootBreadcrumb","prepareBreadcrumbList","_a","rootConfig","config","find","path","extractObject","data","breadcrumb","storeItem","getFromStore","alias","assign","routeLink","getQueryParamsFromPreviousList","prepareBreadcrumbItem","routeLinkPrefix","parseRouteData","routeConfig","resolvedSegment","resolvePathSegment","label","extractLabel","isAutoGeneratedLabel","autoGeneratedLabel","breadcrumbItem","push","firstChild","lastCrumb","setQueryParamsForActiveBreadcrumb","breadcrumbsToShow","item","skip","next","matchRegex","routeRegex","match","RegExp","segment","includes","entries","params","forEach","key","value","replace","queryParams","fragment","lastItem","undefined","mergeWithBaseChildData","baseChild","loadChildren","_loadedConfig","routes","route","children","childConfig","set","breadcrumbObject","updateArgs","startsWith","slice","buildRegex","ensureLeadingSlash","updateStore","updateCurrentBreadcrumbs","storeItemIndex","findIndex","itemIndex","resolvedParam","ActivatedRoute","Router","ɵprov","providedIn","BreadcrumbComponent","breadcrumbService","activateRoute","_separator","autoGenerate","preserveQueryParams","preserveFragment","class","setupMessage","someParameterValue","setupComponent","separator","separatorTemplate","someParam","Date","ngOnInit","routeInterceptor","ɵcmp","NgClass","NgForOf","NgIf","RouterLinkWithHref","NgTemplateOutlet","AsyncPipe","encapsulation","None","template","styles","itemTemplate","static","read","anchorTarget","BreadcrumbModule","ɵmod","ɵinj","declarations","imports","exports"],"mappings":"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","sourcesContent":["import * as i0 from '@angular/core';\nimport { Directive, Injectable, TemplateRef, Component, ViewEncapsulation, ContentChild, Input, NgModule } from '@angular/core';\nimport { filter, map } from 'rxjs/operators';\nimport * as i1 from '@angular/router';\nimport { GuardsCheckEnd, RouterModule } from '@angular/router';\nimport { BehaviorSubject } from 'rxjs';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\n/**\n * This directive is used to customize the breadcrumb label behavior\n * *xngBreadcrumbItem directive can be used in the child element of xng-breadcrumb\n * Usage: refer to the demo - app.component.html\n */\nclass BreadcrumbItemDirective {\n}\nBreadcrumbItemDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: BreadcrumbItemDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\nBreadcrumbItemDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.2.0\", type: BreadcrumbItemDirective, selector: \"[xngBreadcrumbItem]\", ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: BreadcrumbItemDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[xngBreadcrumbItem]',\n                }]\n        }] });\n\nconst PATH_PARAM = {\n    PREFIX: ':',\n    REGEX_IDENTIFIER: '/:[^/]+',\n    REGEX_REPLACER: '/[^/]+',\n};\nconst ALIAS_PREFIX = '@';\nconst isNonEmpty = (obj) => {\n    return obj && Object.keys(obj).length > 0;\n};\nclass BreadcrumbService {\n    constructor(activatedRoute, router) {\n        this.activatedRoute = activatedRoute;\n        this.router = router;\n        this.baseHref = '/';\n        /**\n         * dynamicBreadcrumbStore holds information about dynamically updated breadcrumbs.\n         * Breadcrumbs can be set from anywhere (component, service) in the app.\n         * On every breadcrumb update check this store and use the info if available.\n         */\n        this.dynamicBreadcrumbStore = [];\n        /**\n         * breadcrumbList for the current route\n         * When breadcrumb info is changed dynamically, check if the currentBreadcrumbs is effected\n         * If effected, update the change and emit a new stream\n         */\n        this.currentBreadcrumbs = [];\n        this.previousBreadcrumbs = [];\n        /**\n         * Breadcrumbs observable to be subscribed by BreadcrumbComponent\n         * Emits on every route change OR dynamic update of breadcrumb\n         */\n        this.breadcrumbs = new BehaviorSubject([]);\n        this.breadcrumbs$ = this.breadcrumbs.asObservable();\n        this.detectRouteChanges();\n    }\n    /**\n     * Whenever route changes build breadcrumb list again\n     */\n    detectRouteChanges() {\n        // Special case where breadcrumb service & component instantiates after a route is navigated.\n        // Ex: put breadcrumbs within *ngIf and this.router.events would be empty\n        // This check is also required where  { initialNavigation: 'enabledBlocking' } is applied to routes\n        this.setupBreadcrumbs(this.activatedRoute.snapshot);\n        this.router.events\n            .pipe(filter((event) => event instanceof GuardsCheckEnd))\n            .subscribe((event) => {\n            // activatedRoute doesn't carry data when shouldReuseRoute returns false\n            // use the event data with GuardsCheckEnd as workaround\n            // Check for shouldActivate in case where the authGuard returns false the breadcrumbs shouldn't be changed\n            if (event instanceof GuardsCheckEnd && event.shouldActivate) {\n                this.setupBreadcrumbs(event.state.root);\n            }\n        });\n    }\n    setupBreadcrumbs(activatedRouteSnapshot) {\n        this.previousBreadcrumbs = this.currentBreadcrumbs;\n        // breadcrumb label for base OR root path. Usually, this can be set as 'Home'\n        const rootBreadcrumb = this.getRootBreadcrumb();\n        this.currentBreadcrumbs = rootBreadcrumb ? [rootBreadcrumb] : [];\n        this.prepareBreadcrumbList(activatedRouteSnapshot, this.baseHref);\n    }\n    getRootBreadcrumb() {\n        var _a;\n        const rootConfig = this.router.config.find((config) => config.path === '');\n        const rootBreadcrumb = this.extractObject((_a = rootConfig === null || rootConfig === void 0 ? void 0 : rootConfig.data) === null || _a === void 0 ? void 0 : _a.breadcrumb);\n        const storeItem = this.getFromStore(rootBreadcrumb.alias, '/');\n        if (isNonEmpty(rootBreadcrumb) || isNonEmpty(storeItem)) {\n            return Object.assign(Object.assign(Object.assign(Object.assign({}, storeItem), rootBreadcrumb), { routeLink: this.baseHref }), this.getQueryParamsFromPreviousList('/'));\n        }\n    }\n    prepareBreadcrumbItem(activatedRouteSnapshot, routeLinkPrefix) {\n        const { path, breadcrumb } = this.parseRouteData(activatedRouteSnapshot.routeConfig);\n        const resolvedSegment = this.resolvePathSegment(path, activatedRouteSnapshot);\n        const routeLink = `${routeLinkPrefix}${resolvedSegment}`;\n        const storeItem = this.getFromStore(breadcrumb.alias, routeLink);\n        const label = this.extractLabel((storeItem === null || storeItem === void 0 ? void 0 : storeItem.label) || (breadcrumb === null || breadcrumb === void 0 ? void 0 : breadcrumb.label), resolvedSegment);\n        let isAutoGeneratedLabel = false;\n        let autoGeneratedLabel = '';\n        if (!label) {\n            isAutoGeneratedLabel = true;\n            autoGeneratedLabel = resolvedSegment;\n        }\n        return Object.assign(Object.assign(Object.assign(Object.assign({}, storeItem), breadcrumb), { label: isAutoGeneratedLabel ? autoGeneratedLabel : label, routeLink,\n            isAutoGeneratedLabel }), this.getQueryParamsFromPreviousList(routeLink));\n    }\n    prepareBreadcrumbList(activatedRouteSnapshot, routeLinkPrefix) {\n        var _a;\n        if ((_a = activatedRouteSnapshot.routeConfig) === null || _a === void 0 ? void 0 : _a.path) {\n            const breadcrumbItem = this.prepareBreadcrumbItem(activatedRouteSnapshot, routeLinkPrefix);\n            this.currentBreadcrumbs.push(breadcrumbItem);\n            if (activatedRouteSnapshot.firstChild) {\n                return this.prepareBreadcrumbList(activatedRouteSnapshot.firstChild, breadcrumbItem.routeLink + '/');\n            }\n        }\n        else if (activatedRouteSnapshot.firstChild) {\n            return this.prepareBreadcrumbList(activatedRouteSnapshot.firstChild, routeLinkPrefix);\n        }\n        const lastCrumb = this.currentBreadcrumbs[this.currentBreadcrumbs.length - 1];\n        this.setQueryParamsForActiveBreadcrumb(lastCrumb, activatedRouteSnapshot);\n        // remove breadcrumb items that needs to be hidden\n        const breadcrumbsToShow = this.currentBreadcrumbs.filter((item) => !item.skip);\n        this.breadcrumbs.next(breadcrumbsToShow);\n    }\n    getFromStore(alias, routeLink) {\n        return this.dynamicBreadcrumbStore.find((item) => {\n            return ((alias && alias === item.alias) ||\n                (routeLink && routeLink === item.routeLink) ||\n                this.matchRegex(routeLink, item.routeRegex));\n        });\n    }\n    /**\n     * use exact match instead of regexp.test\n     * for /mentor/[^/]+ we should match '/mentor/12' but not '/mentor/12/abc'\n     */\n    matchRegex(routeLink, routeRegex) {\n        const match = routeLink.match(new RegExp(routeRegex));\n        return (match === null || match === void 0 ? void 0 : match[0]) === routeLink;\n    }\n    /**\n     * if the path segment has route params, read the param value from url\n     * for each segment of route this gets called\n     *\n     * for mentor/:id/view - it gets called with mentor, :id, view 3 times\n     */\n    resolvePathSegment(segment, activatedRouteSnapshot) {\n        //quirk -segment can be defined as view/:id in route config in which case you need to make it view/<resolved-param>\n        if (segment.includes(PATH_PARAM.PREFIX)) {\n            Object.entries(activatedRouteSnapshot.params).forEach(([key, value]) => {\n                segment = segment.replace(`:${key}`, `${value}`);\n            });\n        }\n        return segment;\n    }\n    /**\n     * queryParams & fragments for previous breadcrumb path are copied over to new list\n     */\n    getQueryParamsFromPreviousList(routeLink) {\n        const { queryParams, fragment } = this.previousBreadcrumbs.find((item) => item.routeLink === routeLink) ||\n            {};\n        return { queryParams, fragment };\n    }\n    /**\n     * set current activated route query params to the last breadcrumb item\n     */\n    setQueryParamsForActiveBreadcrumb(lastItem, activatedRouteSnapshot) {\n        if (lastItem) {\n            const { queryParams, fragment } = activatedRouteSnapshot;\n            lastItem.queryParams = queryParams ? Object.assign({}, queryParams) : undefined;\n            lastItem.fragment = fragment;\n        }\n    }\n    /**\n     * For a specific route, breadcrumb can be defined either on parent OR it's child(which has empty path)\n     * When both are defined, child takes precedence\n     *\n     * Ex: Below we are setting breadcrumb on both parent and child.\n     * So, child takes precedence and \"Defined On Child\" is displayed for the route 'home'\n     * { path: 'home', loadChildren: () => import('./home/home.module').then((m) => m.HomeModule) , data: {breadcrumb: \"Defined On Module\"}}\n     *                                                AND\n     * children: [\n     *   { path: '', component: ShowUserComponent, data: {breadcrumb: \"Defined On Child\" }\n     * ]\n     */\n    parseRouteData(routeConfig) {\n        const { path, data } = routeConfig;\n        const breadcrumb = this.mergeWithBaseChildData(routeConfig, data === null || data === void 0 ? void 0 : data.breadcrumb);\n        return { path, breadcrumb };\n    }\n    /**\n     * get empty children of a module or Component. Empty child is the one with path: ''\n     * When parent and it's children (that has empty route path) define data merge them both with child taking precedence\n     */\n    mergeWithBaseChildData(routeConfig, config) {\n        var _a;\n        if (!routeConfig) {\n            return this.extractObject(config);\n        }\n        let baseChild;\n        if (routeConfig.loadChildren) {\n            // To handle a module with empty child route\n            baseChild = routeConfig._loadedConfig.routes.find((route) => route.path === '');\n        }\n        else if (routeConfig.children) {\n            // To handle a component with empty child route\n            baseChild = routeConfig.children.find((route) => route.path === '');\n        }\n        const childConfig = (_a = baseChild === null || baseChild === void 0 ? void 0 : baseChild.data) === null || _a === void 0 ? void 0 : _a.breadcrumb;\n        return childConfig\n            ? this.mergeWithBaseChildData(baseChild, Object.assign(Object.assign({}, this.extractObject(config)), this.extractObject(childConfig)))\n            : this.extractObject(config);\n    }\n    /**\n     * Update breadcrumb dynamically\n     *\n     * key can be a path | alias\n     *\n     * 1) Using complete route path. route can be passed the same way you define angular routes\n     * - path can be passed as 'exact path(routeLink)' or 'path with params(routeRegex)'\n     * - update label Ex: set('/mentor', 'Mentor'), set('/mentor/:id', 'Mentor Details')\n     * - change visibility Ex: set('/mentor/:id/edit', { skip: true })\n     * ------------------------------------------ OR ------------------------------------------\n     * 2) Using route alias (prefixed with '@'). alias should be unique for a route\n     * - update label Ex: set('@mentor', 'Enabler')\n     * - change visibility Ex: set('@mentorEdit', { skip: true })\n     *\n     *\n     * value can be string | BreadcrumbObject | BreadcrumbFunction\n     */\n    set(key, breadcrumb) {\n        const breadcrumbObject = this.extractObject(breadcrumb);\n        let updateArgs;\n        if (key.startsWith(ALIAS_PREFIX)) {\n            updateArgs = ['alias', Object.assign(Object.assign({}, breadcrumbObject), { alias: key.slice(1) })];\n        }\n        else if (key.includes(PATH_PARAM.PREFIX)) {\n            updateArgs = [\n                'routeRegex',\n                Object.assign(Object.assign({}, breadcrumbObject), { routeRegex: this.buildRegex(key) }),\n            ];\n        }\n        else {\n            updateArgs = [\n                'routeLink',\n                Object.assign(Object.assign({}, breadcrumbObject), { routeLink: this.ensureLeadingSlash(key) }),\n            ];\n        }\n        // For this route if previously a breadcrumb is not defined that sets isAutoGeneratedLabel: true\n        // change it to false since this is user supplied value\n        updateArgs[1].isAutoGeneratedLabel = false;\n        this.updateStore(...updateArgs);\n        this.updateCurrentBreadcrumbs(...updateArgs);\n    }\n    /**\n     * Update the store to reuse for dynamic declarations\n     * If the store already has this route definition update it, else add\n     */\n    updateStore(key, breadcrumb) {\n        const storeItemIndex = this.dynamicBreadcrumbStore.findIndex((item) => {\n            return breadcrumb[key] === item[key];\n        });\n        if (storeItemIndex > -1) {\n            this.dynamicBreadcrumbStore[storeItemIndex] = Object.assign(Object.assign({}, this.dynamicBreadcrumbStore[storeItemIndex]), breadcrumb);\n        }\n        else {\n            this.dynamicBreadcrumbStore.push(Object.assign({}, breadcrumb));\n        }\n    }\n    /**\n     * If breadcrumb is present in current breadcrumbs update it and emit new stream\n     */\n    updateCurrentBreadcrumbs(key, breadcrumb) {\n        const itemIndex = this.currentBreadcrumbs.findIndex((item) => {\n            return key === 'routeRegex'\n                ? this.matchRegex(item.routeLink, breadcrumb[key])\n                : breadcrumb[key] === item[key];\n        });\n        if (itemIndex > -1) {\n            this.currentBreadcrumbs[itemIndex] = Object.assign(Object.assign({}, this.currentBreadcrumbs[itemIndex]), breadcrumb);\n            const breadcrumbsToShow = this.currentBreadcrumbs.filter((item) => !item.skip);\n            this.breadcrumbs.next([...breadcrumbsToShow]);\n        }\n    }\n    /**\n     * For a route with path param, we create regex dynamically from angular route syntax\n     * '/mentor/:id' becomes '/mentor/[^/]',\n     * breadcrumbService.set('/mentor/:id', 'Uday') should update 'Uday' as label for '/mentor/2' OR 'mentor/ada'\n     */\n    buildRegex(path) {\n        return this.ensureLeadingSlash(path).replace(new RegExp(PATH_PARAM.REGEX_IDENTIFIER, 'g'), PATH_PARAM.REGEX_REPLACER);\n    }\n    ensureLeadingSlash(path) {\n        return path.startsWith('/') ? path : `/${path}`;\n    }\n    /**\n     * In App's RouteConfig, breadcrumb can be defined as a string OR a function OR an object\n     *\n     * string: simple static breadcrumb label for a path\n     * function: callback that gets invoked with resolved path param\n     * object: additional data defined along with breadcrumb label that gets passed to *xngBreadcrumbItem directive\n     */\n    extractLabel(config, resolvedParam) {\n        const label = typeof config === 'object' ? config.label : config;\n        if (typeof label === 'function') {\n            return label(resolvedParam);\n        }\n        return label;\n    }\n    extractObject(config) {\n        // don't include {label} if config is undefined. This is important since we merge the configs\n        if (config &&\n            (typeof config === 'string' || typeof config === 'function')) {\n            return { label: config };\n        }\n        return config || {};\n    }\n}\nBreadcrumbService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: BreadcrumbService, deps: [{ token: i1.ActivatedRoute }, { token: i1.Router }], target: i0.ɵɵFactoryTarget.Injectable });\nBreadcrumbService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: BreadcrumbService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: BreadcrumbService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: function () { return [{ type: i1.ActivatedRoute }, { type: i1.Router }]; } });\n\nclass BreadcrumbComponent {\n    constructor(breadcrumbService, activateRoute) {\n        this.breadcrumbService = breadcrumbService;\n        this._separator = '/';\n        /**\n         * If true, breadcrumb is auto generated even without any mapping label\n         * Default label is same as route segment\n         */\n        this.autoGenerate = true;\n        /**\n         * By default query params will be preserved with breadcrumbs\n         */\n        this.preserveQueryParams = true;\n        /**\n         * By default query fragments will be preserved with breadcrumbs\n         */\n        this.preserveFragment = true;\n        /**\n         * custom class provided by consumer to increase specificity\n         * This will benefit to override styles that are conflicting\n         */\n        this.class = '';\n        this.setupMessage = 'not set up yet';\n        this.someParameterValue = null;\n        // breadcrumb inside ngIf works only this way\n        activateRoute.params.subscribe((params) => {\n            this.setupComponent(params['someParam']);\n        });\n    }\n    /**\n     * separator between breadcrumbs, defaults to '/'.\n     * User can customize separator either by passing a String or Template\n     *\n     * String --> Ex: <xng-breadcrumb separator=\"-\"> </xng-breadcrumb>\n     *\n     * Template --> Ex: <xng-breadcrumb [separator]=\"separatorTemplate\"> </xng-breadcrumb>\n     * <ng-template #separatorTemplate><mat-icon>arrow_right</mat-icon></ng-template>\n     */\n    set separator(value) {\n        if (value instanceof TemplateRef) {\n            this.separatorTemplate = value;\n            this._separator = undefined;\n        }\n        else {\n            this.separatorTemplate = undefined;\n            this._separator = value || '/';\n        }\n    }\n    get separator() {\n        return this._separator;\n    }\n    setupComponent(someParam) {\n        this.setupMessage = 'set up at ' + new Date();\n        this.someParameterValue = someParam;\n    }\n    ngOnInit() {\n        this.breadcrumbs$ = this.breadcrumbService.breadcrumbs$.pipe(map((breadcrumbs) => {\n            return breadcrumbs\n                .filter((breadcrumb) => {\n                // Usually, breadcrumb list can contain a combination of auto generated and user specified labels\n                // this filters autogenerated labels in case of \"[autoGenerate]: false\"\n                if (this.autoGenerate) {\n                    return true;\n                }\n                return !breadcrumb.isAutoGeneratedLabel;\n            })\n                .map((breadcrumb) => {\n                // Do not mutate breadcrumb as its source of truth.\n                // There can be scenarios where we can have multiple xng-breadcrumb instances in page\n                const { routeInterceptor, routeLink } = breadcrumb;\n                return Object.assign(Object.assign({}, breadcrumb), { routeLink: (routeInterceptor === null || routeInterceptor === void 0 ? void 0 : routeInterceptor(routeLink, breadcrumb)) || routeLink });\n            });\n        }));\n    }\n}\nBreadcrumbComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: BreadcrumbComponent, deps: [{ token: BreadcrumbService }, { token: i1.ActivatedRoute }], target: i0.ɵɵFactoryTarget.Component });\nBreadcrumbComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.2.0\", type: BreadcrumbComponent, selector: \"xng-breadcrumb\", inputs: { autoGenerate: \"autoGenerate\", preserveQueryParams: \"preserveQueryParams\", preserveFragment: \"preserveFragment\", class: \"class\", anchorTarget: \"anchorTarget\", separator: \"separator\" }, queries: [{ propertyName: \"itemTemplate\", first: true, predicate: BreadcrumbItemDirective, descendants: true, read: TemplateRef }], ngImport: i0, template: \"<nav aria-label=\\\"breadcrumb\\\" class=\\\"xng-breadcrumb-root\\\" [ngClass]=\\\"class\\\">\\n  <ol class=\\\"xng-breadcrumb-list\\\">\\n    <ng-container\\n      *ngFor=\\\"\\n        let breadcrumb of breadcrumbs$ | async;\\n        last as isLast;\\n        first as isFirst;\\n        index as index;\\n        count as count\\n      \\\"\\n    >\\n      <li class=\\\"xng-breadcrumb-item\\\">\\n        <a\\n          *ngIf=\\\"!isLast\\\"\\n          class=\\\"xng-breadcrumb-link\\\"\\n          [ngClass]=\\\"{ 'xng-breadcrumb-link-disabled': breadcrumb.disable }\\\"\\n          [attr.aria-disabled]=\\\"breadcrumb.disable\\\"\\n          [attr.tabIndex]=\\\"breadcrumb.disable ? -1 : 0\\\"\\n          role=\\\"button\\\"\\n          rel=\\\"noopener noreferrer\\\"\\n          [routerLink]=\\\"\\n            breadcrumb.routeInterceptor\\n              ? breadcrumb.routeInterceptor(breadcrumb.routeLink, breadcrumb)\\n              : breadcrumb.routeLink\\n          \\\"\\n          [queryParams]=\\\"\\n            preserveQueryParams ? breadcrumb.queryParams : undefined\\n          \\\"\\n          [fragment]=\\\"preserveFragment ? breadcrumb.fragment : undefined\\\"\\n          [target]=\\\"anchorTarget ? anchorTarget : '_self'\\\"\\n        >\\n          <ng-container\\n            *ngTemplateOutlet=\\\"\\n              itemTemplate;\\n              context: {\\n                $implicit: breadcrumb.label,\\n                info: breadcrumb.info,\\n                last: isLast,\\n                first: isFirst,\\n                index: index,\\n                count: count\\n              }\\n            \\\"\\n          ></ng-container>\\n          <ng-container *ngIf=\\\"!itemTemplate\\\">{{\\n            breadcrumb.label\\n          }}</ng-container>\\n        </a>\\n\\n        <label *ngIf=\\\"isLast\\\" class=\\\"xng-breadcrumb-trail\\\">\\n          <ng-container\\n            *ngTemplateOutlet=\\\"\\n              itemTemplate;\\n              context: {\\n                $implicit: breadcrumb.label,\\n                info: breadcrumb.info,\\n                last: isLast,\\n                first: isFirst,\\n                index: index,\\n                count: count\\n              }\\n            \\\"\\n          ></ng-container>\\n          <ng-container *ngIf=\\\"!itemTemplate\\\">{{\\n            breadcrumb.label\\n          }}</ng-container>\\n        </label>\\n      </li>\\n\\n      <li\\n        *ngIf=\\\"!isLast\\\"\\n        class=\\\"xng-breadcrumb-separator\\\"\\n        aria-hidden=\\\"true\\\"\\n        role=\\\"separator\\\"\\n      >\\n        <ng-container *ngTemplateOutlet=\\\"separatorTemplate\\\"></ng-container>\\n        <ng-container *ngIf=\\\"!separatorTemplate\\\">{{ separator }}</ng-container>\\n      </li>\\n    </ng-container>\\n  </ol>\\n</nav>\\n\", styles: [\".xng-breadcrumb-root{margin:0;color:#0009}.xng-breadcrumb-list{display:flex;align-items:center;flex-wrap:wrap;margin:0;padding:0}.xng-breadcrumb-item{list-style:none}.xng-breadcrumb-trail{display:flex;align-items:center;color:#000000e6}.xng-breadcrumb-link{display:flex;align-items:center;white-space:nowrap;color:inherit;text-decoration:none;transition:-webkit-text-decoration .3s;transition:text-decoration .3s;transition:text-decoration .3s,-webkit-text-decoration .3s;cursor:pointer}.xng-breadcrumb-link:hover{text-decoration:underline}.xng-breadcrumb-link-disabled{pointer-events:none;cursor:disabled}.xng-breadcrumb-separator{display:flex;-webkit-user-select:none;user-select:none;margin-left:8px;margin-right:8px}\\n\"], directives: [{ type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1.RouterLinkWithHref, selector: \"a[routerLink],area[routerLink]\", inputs: [\"target\", \"queryParams\", \"fragment\", \"queryParamsHandling\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"state\", \"relativeTo\", \"routerLink\"] }, { type: i3.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }], pipes: { \"async\": i3.AsyncPipe }, encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: BreadcrumbComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'xng-breadcrumb', encapsulation: ViewEncapsulation.None, template: \"<nav aria-label=\\\"breadcrumb\\\" class=\\\"xng-breadcrumb-root\\\" [ngClass]=\\\"class\\\">\\n  <ol class=\\\"xng-breadcrumb-list\\\">\\n    <ng-container\\n      *ngFor=\\\"\\n        let breadcrumb of breadcrumbs$ | async;\\n        last as isLast;\\n        first as isFirst;\\n        index as index;\\n        count as count\\n      \\\"\\n    >\\n      <li class=\\\"xng-breadcrumb-item\\\">\\n        <a\\n          *ngIf=\\\"!isLast\\\"\\n          class=\\\"xng-breadcrumb-link\\\"\\n          [ngClass]=\\\"{ 'xng-breadcrumb-link-disabled': breadcrumb.disable }\\\"\\n          [attr.aria-disabled]=\\\"breadcrumb.disable\\\"\\n          [attr.tabIndex]=\\\"breadcrumb.disable ? -1 : 0\\\"\\n          role=\\\"button\\\"\\n          rel=\\\"noopener noreferrer\\\"\\n          [routerLink]=\\\"\\n            breadcrumb.routeInterceptor\\n              ? breadcrumb.routeInterceptor(breadcrumb.routeLink, breadcrumb)\\n              : breadcrumb.routeLink\\n          \\\"\\n          [queryParams]=\\\"\\n            preserveQueryParams ? breadcrumb.queryParams : undefined\\n          \\\"\\n          [fragment]=\\\"preserveFragment ? breadcrumb.fragment : undefined\\\"\\n          [target]=\\\"anchorTarget ? anchorTarget : '_self'\\\"\\n        >\\n          <ng-container\\n            *ngTemplateOutlet=\\\"\\n              itemTemplate;\\n              context: {\\n                $implicit: breadcrumb.label,\\n                info: breadcrumb.info,\\n                last: isLast,\\n                first: isFirst,\\n                index: index,\\n                count: count\\n              }\\n            \\\"\\n          ></ng-container>\\n          <ng-container *ngIf=\\\"!itemTemplate\\\">{{\\n            breadcrumb.label\\n          }}</ng-container>\\n        </a>\\n\\n        <label *ngIf=\\\"isLast\\\" class=\\\"xng-breadcrumb-trail\\\">\\n          <ng-container\\n            *ngTemplateOutlet=\\\"\\n              itemTemplate;\\n              context: {\\n                $implicit: breadcrumb.label,\\n                info: breadcrumb.info,\\n                last: isLast,\\n                first: isFirst,\\n                index: index,\\n                count: count\\n              }\\n            \\\"\\n          ></ng-container>\\n          <ng-container *ngIf=\\\"!itemTemplate\\\">{{\\n            breadcrumb.label\\n          }}</ng-container>\\n        </label>\\n      </li>\\n\\n      <li\\n        *ngIf=\\\"!isLast\\\"\\n        class=\\\"xng-breadcrumb-separator\\\"\\n        aria-hidden=\\\"true\\\"\\n        role=\\\"separator\\\"\\n      >\\n        <ng-container *ngTemplateOutlet=\\\"separatorTemplate\\\"></ng-container>\\n        <ng-container *ngIf=\\\"!separatorTemplate\\\">{{ separator }}</ng-container>\\n      </li>\\n    </ng-container>\\n  </ol>\\n</nav>\\n\", styles: [\".xng-breadcrumb-root{margin:0;color:#0009}.xng-breadcrumb-list{display:flex;align-items:center;flex-wrap:wrap;margin:0;padding:0}.xng-breadcrumb-item{list-style:none}.xng-breadcrumb-trail{display:flex;align-items:center;color:#000000e6}.xng-breadcrumb-link{display:flex;align-items:center;white-space:nowrap;color:inherit;text-decoration:none;transition:-webkit-text-decoration .3s;transition:text-decoration .3s;transition:text-decoration .3s,-webkit-text-decoration .3s;cursor:pointer}.xng-breadcrumb-link:hover{text-decoration:underline}.xng-breadcrumb-link-disabled{pointer-events:none;cursor:disabled}.xng-breadcrumb-separator{display:flex;-webkit-user-select:none;user-select:none;margin-left:8px;margin-right:8px}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: BreadcrumbService }, { type: i1.ActivatedRoute }]; }, propDecorators: { itemTemplate: [{\n                type: ContentChild,\n                args: [BreadcrumbItemDirective, { static: false, read: TemplateRef }]\n            }], autoGenerate: [{\n                type: Input\n            }], preserveQueryParams: [{\n                type: Input\n            }], preserveFragment: [{\n                type: Input\n            }], class: [{\n                type: Input\n            }], anchorTarget: [{\n                type: Input\n            }], separator: [{\n                type: Input,\n                args: ['separator']\n            }] } });\n\nclass BreadcrumbModule {\n}\nBreadcrumbModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: BreadcrumbModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nBreadcrumbModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: BreadcrumbModule, declarations: [BreadcrumbComponent, BreadcrumbItemDirective], imports: [CommonModule, RouterModule], exports: [BreadcrumbComponent, BreadcrumbItemDirective] });\nBreadcrumbModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: BreadcrumbModule, imports: [[CommonModule, RouterModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: BreadcrumbModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [BreadcrumbComponent, BreadcrumbItemDirective],\n                    imports: [CommonModule, RouterModule],\n                    exports: [BreadcrumbComponent, BreadcrumbItemDirective],\n                }]\n        }] });\n\n/*\n * Public API Surface of xng-breadcrumb\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { BreadcrumbComponent, BreadcrumbItemDirective, BreadcrumbModule, BreadcrumbService };\n"]},"metadata":{},"sourceType":"module"}